<!DOCTYPE html>
<html lang="en" prefix="og: https://ogp.me/ns#">
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible"
      content="IE=edge">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0" />
<meta name="description"
      content="å¾å¿ƒå¦‚èŠ±æœ¨ï¼Œå‘é˜³è€Œç”Ÿï¼Œè™½ç››è¡°è£æ¯ä¹‹å¼‚ï¼Œç„¶ç©¶ç»ˆä¸ç¦»å…¶æ€§ã€‚" />
<meta name="keywords"
      content="zola, theme, ink, hugo-ink" /> 

<title>ç¢ç¢å¿µ | åŸºäºè…¾è®¯äº‘cvmçš„äº‘åŸç”Ÿç¯å¢ƒæ­å»º</title>
<meta
  property="og:title"
  content="ç¢ç¢å¿µ | åŸºäºè…¾è®¯äº‘cvmçš„äº‘åŸç”Ÿç¯å¢ƒæ­å»º"
/>
<meta property="og:type" content="website" />
<meta property="og:url" content="https://poltao.github.io/posts/tlinux3-build/" />
<meta property="og:description" content="åŸºäºè…¾è®¯äº‘cvmçš„äº‘åŸç”Ÿç¯å¢ƒæ­å»ºï¼Œæ‰€æœ‰æ“ä½œåŸºäºè…¾è®¯äº‘ cvm å®ä¾‹ã€‚" />
<meta property="og:image" content="" />
<meta property="og:image:url" content="" />
<meta property="og:image:secure_url" content="" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="åŸºäºè…¾è®¯äº‘cvmçš„äº‘åŸç”Ÿç¯å¢ƒæ­å»º" />
<meta name="twitter:description" content="åŸºäºè…¾è®¯äº‘cvmçš„äº‘åŸç”Ÿç¯å¢ƒæ­å»ºï¼Œæ‰€æœ‰æ“ä½œåŸºäºè…¾è®¯äº‘ cvm å®ä¾‹ã€‚" />
<meta property="twitter:image" content="" />

<link rel="alternate"
          type="application/rss+xml"
          title="ç¢ç¢å¿µ"
          href="https://poltao.github.io/atom.xml">
    <link rel="preconnect"
          href="https://fonts.googleapis.com">
    <link rel="preconnect"
          href="https://fonts.gstatic.com"
          crossorigin>
    <!-- <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">  -->
    <link href="https://fonts.googleapis.com/css2?family=Andada+Pro&display=swap&family=Playfair+Display"
          rel="stylesheet">
    <link rel="stylesheet"
          href="https://poltao.github.io/base.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.28.0/feather.min.js"
            integrity="sha512-7x3zila4t2qNycrtZ31HO0NnJr8kg2VI67YLoRSyi9hGhRN66FHYWr7Axa9Y1J9tGYHVBPqIjSE1ogHrJTz51g=="
            crossorigin="anonymous"></script>
</head>

<body>
    <header>
        <div class="avatar">
			<a href="/">
                <img alt="ç¢ç¢å¿µ" title="ç¢ç¢å¿µ" src="https://poltao.github.io/processed_images/magic.c2f4a4b4ba111100.jpg" srcset="https://poltao.github.io/processed_images/magic.76296d763339d9bb.jpg 64w, https://poltao.github.io/processed_images/magic.c2f4a4b4ba111100.jpg 128w, https://poltao.github.io/processed_images/magic.375e2765e531a9f6.jpg 256w" class="" />

			</a>
		</div>
	    <a class="site-name"
           href="/">
            <h1>ç¢ç¢å¿µ</h1>
        </a>
        <div class="site-description">
            <p>å¾å¿ƒå¦‚èŠ±æœ¨ï¼Œå‘é˜³è€Œç”Ÿï¼Œè™½ç››è¡°è£æ¯ä¹‹å¼‚ï¼Œç„¶ç©¶ç»ˆä¸ç¦»å…¶æ€§ã€‚</p>
        </div>
        <nav>
            <div class="links"> 
            <a 
                href="https://poltao.github.io/posts/ ">Posts</a> 
            <a 
                href="https://poltao.github.io/tags/ ">Tags</a> 
            <a 
                href="https://poltao.github.io/search/ ">Search</a> 
            <a 
                href="https://github.com/poltao/ ">Github</a> 
            <a 
                href="https://poltao.github.io/about/ ">About</a> 
            </div>
        </nav>
    </header>
    <article>
    

<section class="post">
  <div class="post-header">
    <div class="meta">
      <div class="date">
        <span class="day">14</span>
        <span class="rest">Dec 21</span>
      </div>
    </div>

    <div class="matter">
      <h1 class="title">åŸºäºè…¾è®¯äº‘cvmçš„äº‘åŸç”Ÿç¯å¢ƒæ­å»º </h1>
    </div>
  </div>
    
  <article><p>å…·ä½“é…ç½®å¦‚ä¸‹ï¼Œæ“ä½œç³»ç»Ÿä¸º TencentOS Server 3.1ï¼šğŸ˜„</p>
<pre data-lang="bash" style="background-color:#282c34;color:#abb2bf;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#e06c75;">[root@VM-0-16-centos</span><span> cms]$ cat /etc/motd
</span><span style="color:#e06c75;">Welcome</span><span> to TencentOS 3 64bit
</span><span style="color:#e06c75;">Version</span><span> 3.1 20210604
</span><span style="color:#e06c75;">tlinux3.1-64bit-5.4.119-19.0006-20210623
</span></code></pre>
<h2 id="1-an-zhuang-vim">1.å®‰è£… vim</h2>
<p>ä¸»è¦æ˜¯æ›´æ–° vim çš„ç‰ˆæœ¬ï¼Œä½¿å…¶&gt;8.0,è¿™æ ·æŸäº›æ’ä»¶æ‰å¯ä»¥æ­£å¸¸å®‰è£…ã€‚</p>
<pre data-lang="bash" style="background-color:#282c34;color:#abb2bf;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#e06c75;">yum</span><span> remove vim vi
</span><span style="color:#e06c75;">rm -fr</span><span> /usr/local/vim /usr/bin/vim
</span><span style="color:#56b6c2;">cd</span><span> /tmp
</span><span style="color:#e06c75;">wget</span><span> https://github.com/vim/vim/archive/v8.2.0000.tar.gz
</span><span style="color:#e06c75;">tar</span><span> xzf  v8.2.0000.tar.gz
</span><span style="color:#56b6c2;">cd</span><span> vim-8.2.0000/
</span><span style="color:#e06c75;">./configure --prefix</span><span>=/usr/local/vim</span><span style="color:#e06c75;">  --with-features</span><span>=huge</span><span style="color:#e06c75;"> --enable-multibyte --enable-gtk3-check  --enable-rubyinterp</span><span>=yes</span><span style="color:#e06c75;"> --with-python3-command</span><span>=python3</span><span style="color:#e06c75;"> --enable-python3interp</span><span>=yes</span><span style="color:#e06c75;"> --enable-perlinterp</span><span>=yes</span><span style="color:#e06c75;"> --enable-luainterp</span><span>=yes</span><span style="color:#e06c75;"> --enable-cscope
</span><span style="color:#e06c75;">make </span><span>&amp;&amp; </span><span style="color:#e06c75;">make</span><span> install
</span><span style="color:#e06c75;">ln -s</span><span> /usr/local/vim/bin/vim  /usr/bin/vim
</span><span style="color:#e06c75;">vim --version </span><span style="font-style:italic;color:#5c6370;">#éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ
</span></code></pre>
<p>æ¥ä¸‹æ¥å¿«é€Ÿå®‰è£…åŸºæœ¬æ’ä»¶ï¼š</p>
<pre data-lang="bash" style="background-color:#282c34;color:#abb2bf;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#56b6c2;">cd </span><span style="color:#e06c75;">~
</span><span style="color:#e06c75;">git</span><span> clone https://gitcode.net/qq_41345173/tvim.git
</span><span style="color:#56b6c2;">cd</span><span> tvim
</span><span style="color:#e06c75;">cp</span><span> .vimrc </span><span style="color:#e06c75;">~</span><span>/.vimrc
</span><span style="color:#e06c75;">mkdir -p ~</span><span>/.vim/
</span><span style="color:#e06c75;">cp -r</span><span> colors/ </span><span style="color:#e06c75;">~</span><span>/.vim/
</span><span style="color:#e06c75;">cp -r</span><span> autoload/ </span><span style="color:#e06c75;">~</span><span>/.vim/
</span><span style="color:#e06c75;">cp -r</span><span> plugged/ </span><span style="color:#e06c75;">~</span><span>/.vim/
</span><span style="color:#56b6c2;">cd </span><span style="color:#e06c75;">~</span><span>/.vim/plugged
</span><span style="color:#e06c75;">unzip</span><span> plugged.zip
</span><span style="color:#56b6c2;">cd </span><span style="color:#e06c75;">~
</span><span style="color:#e06c75;">rm -fr</span><span> tvim
</span></code></pre>
<p>ç›¸å…³æ–‡ç« ï¼š
<a href="https://blog.csdn.net/qq_41345173/article/details/120381818">https://blog.csdn.net/qq_41345173/article/details/120381818</a></p>
<h2 id="2-tlinux3-an-zhuang-docker">2.tlinux3 å®‰è£… docker</h2>
<p>Tlinux3 å’Œå…¶ä»–åŸç”Ÿæ“ä½œç³»ç»Ÿä¸åŒï¼Œæœ‰å›¢é˜Ÿç»´æŠ¤ tlinux æºï¼Œå®‰è£… docker-ce çš„æ–¹å¼å¦‚ä¸‹ï¼š</p>
<pre data-lang="bash" style="background-color:#282c34;color:#abb2bf;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#e06c75;">yum</span><span> install tencentos-release-docker-ce
</span><span style="color:#e06c75;">yum</span><span> update
</span><span style="color:#e06c75;">yum</span><span> install docker-ce docker-ce-cli containerd.io
</span><span style="font-style:italic;color:#5c6370;"># æµ‹è¯•
</span><span style="color:#e06c75;">docker</span><span> version
</span></code></pre>
<p>é…ç½® github ç›¸å…³åŸŸåçš„ ip åœ°å€ï¼Œä»¥è¿›è¡ŒåŠ é€Ÿè®¿é—® github èµ„æºï¼š</p>
<pre data-lang="bash" style="background-color:#282c34;color:#abb2bf;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#e06c75;">vim</span><span> /etc/hosts
</span><span style="font-style:italic;color:#5c6370;"># å°¾éƒ¨æ·»åŠ å¦‚ä¸‹å†…å®¹
</span><span style="font-style:italic;color:#5c6370;"># åœ¨ç½‘ç«™https://www.ipaddress.com/è·å–æœ€æ–°ip
</span><span style="color:#e06c75;">140.82.113.3</span><span> github.com
</span><span style="color:#e06c75;">185.199.108.133</span><span> raw.githubusercontent.com
</span><span style="color:#e06c75;">185.199.109.133</span><span> raw.githubusercontent.com
</span><span style="color:#e06c75;">185.199.110.133</span><span> raw.githubusercontent.com
</span><span style="color:#e06c75;">185.199.111.133</span><span> raw.githubusercontent.com
</span></code></pre>
<p>Docker-compose å®‰è£…ï¼š</p>
<pre data-lang="bash" style="background-color:#282c34;color:#abb2bf;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#e06c75;">curl -LO </span><span style="color:#98c379;">&quot;https://github.com/docker/compose/releases/download/1.29.0/docker-compose-$(</span><span style="color:#e06c75;">uname -s</span><span style="color:#98c379;">)-$(</span><span style="color:#e06c75;">uname -m</span><span style="color:#98c379;">)&quot;</span><span style="color:#e06c75;"> -o</span><span> /usr/local/bin/docker-compose
</span></code></pre>
<h2 id="3-an-zhuang-golang">3.å®‰è£… golang</h2>
<p>å®‰è£… golang</p>
<pre data-lang="bash" style="background-color:#282c34;color:#abb2bf;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#e06c75;">wget</span><span> https://dl.google.com/go/go1.16.linux-amd64.tar.gz
</span><span style="color:#e06c75;">sha256sum</span><span> go1.16.linux-amd64.tar.gz
</span><span style="color:#e06c75;">tar -C</span><span> /usr/local</span><span style="color:#e06c75;"> -xzf</span><span> go1.16.linux-amd64.tar.gz
</span><span style="font-style:italic;color:#5c6370;"># è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œåœ¨~/.bashrcä¸­æ·»åŠ å¦‚ä¸‹é…ç½®
</span><span style="color:#c678dd;">export </span><span style="color:#e06c75;">PATH</span><span>=</span><span style="color:#98c379;">$</span><span style="color:#e06c75;">PATH</span><span style="color:#98c379;">:/usr/local/go/bin
</span><span style="color:#c678dd;">export </span><span style="color:#e06c75;">GO111MODULE</span><span>=</span><span style="color:#98c379;">on
</span><span style="color:#c678dd;">export </span><span style="color:#e06c75;">GOPROXY</span><span>=</span><span style="color:#98c379;">https://goproxy.cn,direct
</span><span style="color:#c678dd;">export </span><span style="color:#e06c75;">GOSUMDB</span><span>=</span><span style="color:#98c379;">off
</span><span style="color:#c678dd;">export </span><span style="color:#e06c75;">GOPATH</span><span>=</span><span style="color:#98c379;">/root/go
</span><span style="color:#c678dd;">export </span><span style="color:#e06c75;">PATH</span><span>=</span><span style="color:#98c379;">$</span><span style="color:#e06c75;">PATH</span><span style="color:#98c379;">:$</span><span style="color:#e06c75;">GOPATH</span><span style="color:#98c379;">/bin
</span></code></pre>
<p>å®‰è£… proto ä¾èµ–ï¼Œä¾¿äºè¿›è¡Œ RPC å¼€å‘</p>
<pre data-lang="bash" style="background-color:#282c34;color:#abb2bf;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#e06c75;">git</span><span> clone https://github.com/protocolbuffers/protobuf
</span><span style="font-style:italic;color:#5c6370;"># v3.6.0+ä»¥ä¸Šç‰ˆæœ¬æ”¯æŒmapè§£æï¼Œsyntax=2ã€3æ¶ˆæ¯åºåˆ—åŒ–åæ˜¯äºŒè¿›åˆ¶å…¼å®¹çš„ï¼Œç”¨rootæ‰§è¡Œä»¥ä¸‹å‘½ä»¤
</span><span style="color:#56b6c2;">cd</span><span> protobuf
</span><span style="color:#e06c75;">./autogen.sh
</span><span style="color:#e06c75;">./configure
</span><span style="color:#e06c75;">make
</span><span style="color:#e06c75;">make</span><span> install
</span><span style="color:#e06c75;">ldconfig
</span><span style="color:#e06c75;">protoc --version </span><span style="font-style:italic;color:#5c6370;"># æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ
</span><span style="color:#e06c75;">go</span><span> get github.com/golang/protobuf </span><span style="font-style:italic;color:#5c6370;"># å®‰è£…ä¾èµ–åŒ…
</span><span style="font-style:italic;color:#5c6370;"># å®‰è£…gprc protocolæ’ä»¶
</span><span style="color:#e06c75;">go</span><span> install google.golang.org/protobuf/cmd/protoc-gen-go@latest
</span><span style="color:#e06c75;">go</span><span> install google.golang.org/grpc/cmd/protoc-gen-go-grpc@latest
</span><span style="font-style:italic;color:#5c6370;"># å®‰è£…grpc-gatewayæ’ä»¶
</span><span style="color:#e06c75;">go</span><span> install github.com/grpc-ecosystem/grpc-gateway/v2/protoc-gen-grpc-gateway@latest
</span><span style="color:#e06c75;">go</span><span> install github.com/grpc-ecosystem/grpc-gateway/v2/protoc-gen-openapiv2@latest
</span></code></pre>
<h2 id="4-an-zhuang-nginx">4.å®‰è£… nginx</h2>
<p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…å’Œå¯åŠ¨ nginx:</p>
<pre data-lang="bash" style="background-color:#282c34;color:#abb2bf;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#e06c75;">yum</span><span> install nginx
</span><span style="color:#e06c75;">systemctl</span><span> start nginx
</span><span style="font-style:italic;color:#5c6370;"># nginxé»˜è®¤ç›‘å¬ç«¯å£ä¸º80ï¼Œå®‰è£…åå¯ä»¥é€šè¿‡/etc/nginx/nginx.confé…ç½®æ–‡ä»¶ä¿®æ”¹ç›‘å¬çš„ç«¯å£
</span><span style="font-style:italic;color:#5c6370;"># systemctl reload nginxå¯ä»¥ä¸€é”®é‡å¯nginxæœåŠ¡
</span></code></pre>
<h2 id="5-an-zhuang-nodejs">5.å®‰è£… nodejs</h2>
<p>é¦–å…ˆåœ¨<a href="https://nodejs.org/zh-cn/download/">å®˜ç½‘ä¸‹è½½é¡µé¢</a>è·å–ä¸‹è½½é“¾æ¥ï¼Œç„¶åä¸‹è½½å®‰è£…ï¼š</p>
<pre data-lang="bash" style="background-color:#282c34;color:#abb2bf;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#e06c75;">mkdir -p</span><span> /usr/local/nodejs
</span><span style="color:#56b6c2;">cd</span><span> /tmp
</span><span style="color:#e06c75;">curl -fLO</span><span> https://nodejs.org/dist/v16.16.0/node-v16.16.0-linux-x64.tar.xz
</span><span style="color:#e06c75;">tar -xJvf</span><span> node-v16.16.0-linux-x64.tar.xz</span><span style="color:#e06c75;"> -C</span><span> /usr/local/nodejs
</span><span style="color:#56b6c2;">echo </span><span style="color:#98c379;">&#39;export PATH=/usr/local/nodejs/node-v16.16.0-linux-x64.tar.xz/bin:$PATH&#39; </span><span>&gt;&gt; </span><span style="color:#e06c75;">~</span><span>/.bashrc
</span><span style="color:#56b6c2;">source </span><span style="color:#e06c75;">~</span><span>/.bashrc
</span></code></pre>
<h2 id="6-an-zhuang-commitizen-gong-ju">6.å®‰è£… commitizen å·¥å…·</h2>
<p><a href="https://github.com/commitizen/cz-cli">commitizen å·¥å…·</a>æ˜¯è§„èŒƒåŒ– git æäº¤ä¿¡æ¯çš„ node æ’ä»¶ï¼Œå®‰è£…æµç¨‹å¦‚ä¸‹ï¼š</p>
<pre data-lang="bash" style="background-color:#282c34;color:#abb2bf;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#e06c75;">npm</span><span> install</span><span style="color:#e06c75;"> -g</span><span> commitizen
</span><span style="color:#56b6c2;">echo </span><span style="color:#98c379;">&#39;{ &quot;path&quot;: &quot;cz-conventional-changelog&quot; }&#39; </span><span>&gt;&gt; </span><span style="color:#e06c75;">~</span><span>/.czrc
</span></code></pre>
<p><strong>Pro tip:</strong> You can use all the git commit options with <font color='red'>git cz</font>. For example: <font color='red'>git cz
--signoff.</font></p>
</article>

  
    
  
  <ul class="tags">
    
      <li><a href='https://poltao.github.io/tags/linux'>Linux</a></li>
    
      <li><a href='https://poltao.github.io/tags/vim'>VIM</a></li>
    
      <li><a href='https://poltao.github.io/tags/commitizen'>Commitizen</a></li>
    
      <li><a href='https://poltao.github.io/tags/nodejs'>NodeJS</a></li>
    
  </ul>
  
  
    
</section>
</article>
    <footer>
        <div class="social">
            <ul> 
                 
                <li>
                    <a href="https://github.com/poltao&#x2F;"
                       title="Github" rel="me"><i data-feather="github"></i></a>
                </li>
                 
                 
                <li>
                    <a href="https://x.com/3tabs"
                       title="Twitter"
                       rel="me"><i data-feather="twitter"></i></a>
                </li>
                
                <li>
                    <a href="https://stackoverflow.com/users/14075443"
                       title="StackOverflow"
                       rel="me"><i data-feather="layers"></i></a>
                </li>
                
                
                <li>
                    <a href="https://blog.csdn.net/qq_41345173"
                       title="CSDN"
                       rel="me"><i data-feather="bookmark"></i></a>
                </li>
                
                <li>
                    <a href="https://poltao.github.io/atom.xml"
                       title="RSS"><i data-feather="rss"></i></a>
                </li>
            </ul>
        </div>
        <p> Â© ç¢ç¢å¿µ 2025

        
        <br>Powered by <a target="_blank" href="https://getzola.org/">Zola</a>. Theme: <a target="_blank" href="https://github.com/jimmyff/zola-inky">Inky</a>.
        </p>
    </footer>
    <script>
        feather.replace();
    </script> 
    </body>
</html>